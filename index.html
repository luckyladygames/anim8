<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
  <script src="https://raw.github.com/mostlygeek/anim8/master/dist/jquery.anim8.min.js"></script>
  <script>
    $(function() {
      $('canvas.anim8').anim8({
        'play': false // prevent animations from starting automatically
      }
      );
      $('button.start-stop').on("click", function() {
        targetId = $(this).data('canvas')
        $target = $('#' + targetId)
        data = $target.anim8('getData');
        if (data.state == 'play') {
          $target.anim8('stop');
        } else {
          $target.anim8('start');
        }
      });
      $('button.reset').on("click", function() {
        targetId = $(this).data('canvas');
        $('#' + targetId).anim8('reset');
      });
      $('button.loop').on('click', function() {
        targetId = $(this).data('canvas');
        times = parseInt($(this).data('loop'));

        $('#' + targetId)
          .anim8('stop')
          .anim8('reset')
          .anim8('start', times);
      });
    
      $('#startAll').on('click', function() {
        $('canvas.anim8').anim8('start')
      });
      $('#stopAll').on('click', function() {
        $('canvas.anim8').anim8('stop')
      });
      $('#resetAll').on('click', function() {
        $('canvas.anim8').anim8('reset')
      });

      $('canvas.anim8-flames').anim8();

    });
  </script>
  <style>
    #canvas canvas { 
      border: 1px solid black;
    }
    section h2 { 
      padding: 0.25em;
    }
    #code {
    }
    #code pre {
      background-color: #C0C0C0;
      padding: 1em;
    }
  </style>
  <title></title>
</head>
<body>
  <h1>jQuery anim8 Demo</h1>
  
  <h2>About</h2>
  <p>
  This is a demonstration of the various capabilities of the 
  <a href="https://github.com/mostlygeek/anim8">anim8</a> library.
  </p>
  <p>For now this will have to serve as living documentation of how the
    library is designed to function. The anim8 library takes an animation sheet
    and an index (json) file, and loops through them using a &lt;canvas&gt; tag.  </p>

    <p>Each of the examples below use a tightly packed <a href="nums.png">animation sheet</a> of 16, 
    100x100 squares with the numbers 0 to 15. </p>

    <p>Combined with the <a href="nums.json">JSON index</a> the library plays each
    frame over a set loop time. </p>


  <section id="canvas">
    <h2>Canvas Animation Demos</h2>

    <button id="startAll"><span>Start All</span></button>
    <button id="stopAll"><span>Stop All</span></button>
    <button id="resetAll"><span>Reset All</span></button>
    
    <h3>0.5 second loop</h3> 
    <canvas width="100" height="100"
      id="anim8_1"
      class="anim8"
      data-index="nums.json" 
      data-sheet="nums.png"
      data-time="0.5"></canvas>
      <br/>
      <button class="start-stop" data-canvas="anim8_1"><span>start/stop</span></button>
      <button class="reset" data-canvas="anim8_1"><span>reset</span></button>
      <button class="loop" data-canvas="anim8_1" data-loop="1"><span>loop once</span></button>
      <button class="loop" data-canvas="anim8_1" data-loop="2"><span>loop twice</span></button>
    
    <h3>1.5 second loop</h3> 
    <canvas width="100" height="100"
      id="anim8_2"
      class="anim8"
      data-index="nums.json" 
      data-sheet="nums.png"
      data-offset-x="10"
      data-offset-y="10"
      data-time="1.5"></canvas>
      <br/><button class="start-stop" data-canvas="anim8_2"><span>start/stop</span></button>
      <button class="reset" data-canvas="anim8_2"><span>reset</span></button>
      <button class="loop" data-canvas="anim8_2" data-loop="1"><span>loop once</span></button>
      <button class="loop" data-canvas="anim8_2" data-loop="2"><span>loop twice</span></button>

    <h3>3.5 second loop</h3> 
    <canvas width="100" height="100"
      id="anim8_3"
      class="anim8"
      data-index="nums.json" 
      data-sheet="nums.png"
      data-offset-x="20"
      data-offset-y="20"
      data-time="3.5"></canvas>
      <br/><button class="start-stop" data-canvas="anim8_3"><span>start/stop</span></button>
      <button class="reset" data-canvas="anim8_3"><span>reset</span></button>
      <button class="loop" data-canvas="anim8_3" data-loop="1"><span>loop once</span></button>
      <button class="loop" data-canvas="anim8_3" data-loop="2"><span>loop twice</span></button>
      
    <h3>5.5 second loop</h3> 
    <canvas width="100" height="100"
      id="anim8_4"
      class="anim8"
      data-index="nums.json" 
      data-sheet="nums.png"
      data-offset-x="-10"
      data-offset-y="-10"
      data-time="5.5"></canvas>
      <br/><button class="start-stop" data-canvas="anim8_4"><span>start/stop</span></button>
      <button class="reset" data-canvas="anim8_4"><span>reset</span></button>
      <button class="loop" data-canvas="anim8_4" data-loop="1"><span>loop once</span></button>
      <button class="loop" data-canvas="anim8_4" data-loop="2"><span>loop twice</span></button>
  </section>
  
  <p>Here is a better example of our flames animation. The background is defined
  as CSS colors and the animation is a transparent png in the canvas.</p>
    <div style="width: 100px; height: 200px; background-color: #C0C0C0; display: inline-block">
      <canvas width="100" height="200"
        class="anim8-flames"
        data-index="flames.json"
        data-sheet="flames.png"
        data-offset-x=-50
        data-time=1.5></canvas>
    </div>
    <div style="width: 100px; height: 200px; background-color: black; display: inline-block">
      <canvas width="100" height="200"
        class="anim8-flames"
        data-index="flames.json"
        data-sheet="flames.png"
        data-offset-x=-50
        data-time=1.5></canvas>
    </div>

</body>
</html>
